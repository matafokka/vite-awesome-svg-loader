import{F as y,T as g}from"./FileTree.astro_astro_type_script_index_0_lang.CKZ5oJCp.js";import{B as u}from"./BaseComponent.jdr1w5n5.js";function w(o,e){let t=o.parentElement;for(;t;){if(t===e)return!0;t=t.parentElement}return!1}function p(o,e){return o===e||w(o,e)}class T extends u{init(){const e=this.getElementsByTagName("file-tree")[0];if(!(e instanceof y))throw new Error("Tree is not FileTreeElement");const t=this.getElementsByClassName("no-file-open")[0];if(!(t instanceof HTMLElement))throw new Error('Expected subtree to contain a div element with class name "no-file-open"');const c=this.getElementsByClassName("code-wrapper")[0];if(!(c instanceof HTMLElement))throw new Error('Expected subtree to contain a div element with class name "code-wrapper"');let n;const a=()=>{e.style.display="none"},d=()=>{e.style.display=""},m=()=>!e.style.display;let l;const f=s=>{l&&(l.style.display="none");const i=this.getElementsByClassName(encodeURIComponent(s))[0];if(!(i instanceof HTMLElement)){s&&console.error(`No element matching path "${s}" found`),l=void 0,t.style.display="";return}l=i,l.style.display="flex",t.style.display="none",n&&a(),c.scrollTop=0,c.scrollLeft=0};e.addEventListener("treeselectionchange",s=>{s instanceof g&&f(s.filePath)}),f(e.selectedPath);const h="toggle-files-button",r=this.getElementsByClassName(h)[0];if(!(r instanceof HTMLButtonElement))throw new Error(`Missing toggle tree button with class "${h}"`);r.addEventListener("click",()=>m()?a():d());const E=()=>{const s=n;n=this.clientWidth<=800,s!==n&&(n?(a(),r.style.display="",this.classList.add("mobile")):(d(),r.style.display="none",this.classList.remove("mobile"))),this.classList.remove("full-width-tree"),n&&this.clientWidth-(e.offsetLeft+e.clientWidth)<=40&&this.classList.add("full-width-tree"),document.addEventListener("click",i=>{n&&i.target instanceof Element&&m()&&!p(i.target,e)&&!p(i.target,r)&&a()})};new ResizeObserver(E).observe(this),E()}}customElements.define("demo-code",T);
