import{F as m,T as f}from"./FileTree.astro_astro_type_script_index_0_lang.CKZ5oJCp.js";import{B as h}from"./BaseComponent.jdr1w5n5.js";class p extends h{init(){const e=this.getElementsByTagName("file-tree")[0];if(!(e instanceof m))throw new Error("Tree is not FileTreeElement");const i=this.getElementsByClassName("no-file-open")[0];if(!(i instanceof HTMLElement))throw new Error('Expected subtree to contain a div element with class name "no-file-open"');const l=this.getElementsByClassName("code-wrapper")[0];if(!(l instanceof HTMLElement))throw new Error('Expected subtree to contain a div element with class name "code-wrapper"');let s,n;const a=t=>{n&&(n.style.display="none");const d=this.getElementsByClassName(encodeURIComponent(t))[0];if(!(d instanceof HTMLElement)){t&&console.error(`No element matching path "${t}" found`),n=void 0,i.style.display="";return}n=d,n.style.display="flex",i.style.display="none",s&&(e.style.display="none"),l.scrollTop=0,l.scrollLeft=0};e.addEventListener("treeselectionchange",t=>{t instanceof f&&a(t.filePath)}),a(e.selectedPath);const r="toggle-files-button",o=this.getElementsByClassName(r)[0];if(!(o instanceof HTMLButtonElement))throw new Error(`Missing toggle tree button with class "${r}"`);o.addEventListener("click",()=>{e.style.display=e.style.display==="none"?"":"none"});const c=()=>{const t=s;s=this.clientWidth<=800,t!==s&&(s?(e.style.display="none",o.style.display="",this.classList.add("mobile")):(e.style.display="",o.style.display="none",this.classList.remove("mobile"))),this.classList.remove("full-width-tree"),s&&this.clientWidth-(e.offsetLeft+e.clientWidth)<=40&&this.classList.add("full-width-tree")};new ResizeObserver(c).observe(this),c()}}customElements.define("demo-code",p);
